# Tácticas

## Disponibilidad

**DISP-001:** Un estudiante intenta acceder a la plataforma educativa en medio de la noche para consultar su grupo de estudio y colaborar en tiempo real. Sin embargo, el sistema está en proceso de una actualización programada.

#### Táctica: Prevenir fallas

- **Remover el servicio:** Colocar un anuncio de "fuera de servicio" si es que el servicio fuese a fallar o estar caído dado un problema interno del servidor o los sistemas conectados. 
- **Sustento:** La inclusión de esta táctica es crucial para mantener la transparencia con los usuarios y minimizar la frustración durante los periodos de mantenimiento. Al informar proactivamente a los usuarios, se reduce el impacto negativo en la experiencia del usuario y se mantiene la confianza en la plataforma.
- **Implementación Técnica:** Configurar una página de mantenimiento en el servidor web (por ejemplo, utilizando NGINX) que se active automáticamente durante las ventanas de mantenimiento programadas. Esta página informará a los usuarios sobre la duración del mantenimiento y las opciones disponibles mientras el sistema está inactivo. Utilizar AWS Route 53 para redirigir el tráfico a la página de mantenimiento durante las actualizaciones.

**DISP-002:** Durante una actualización de la base de datos, algunos usuarios intentan iniciar sesión y el sistema debe seguir funcionando sin interrupciones.

#### Táctica: Detectar fallas

- **Heartbeat:** Implementar un sistema de heartbeat que envíe señales periódicas entre los servidores y los componentes críticos del sistema. Si se detecta una falta de respuesta, se redirigirá automáticamente el tráfico a un servidor de respaldo para garantizar la disponibilidad continua del servicio.
- **Sustento:** Detectar fallas en tiempo real es crucial para mantener la disponibilidad del sistema durante actualizaciones o fallos inesperados. Al implementar un sistema de heartbeat y redirección automática del tráfico, se garantiza que los usuarios puedan acceder al sistema sin interrupciones, mejorando la confiabilidad y la experiencia del usuario.
- **Implementación Técnica:** Utilizar Consul para el monitoreo de servicios y detección de fallos mediante heartbeats, junto con HAProxy para redirigir el tráfico a servidores de respaldo cuando se detecten fallas en los servicios principales.

## Mantenibilidad

**MANT-001:** Un estudiante intenta acceder a la plataforma educativa en medio de la noche para consultar su grupo de estudio y colaborar en tiempo real. Sin embargo, el sistema está en proceso de una actualización programada.

#### Táctica: Incrementar cohesión

- **Sustento:** Incrementar la cohesión de los módulos facilita la identificación y corrección de errores, ya que cada módulo tiene una única responsabilidad claramente definida. Esto reduce la probabilidad de que un cambio en un módulo afecte a otros, mejorando la mantenibilidad del sistema de notificaciones y permitiendo una resolución más rápida de problemas.
- **Implementación Técnica:** Transferir responsabilidades específicas del sistema de notificaciones a módulos más apropiados. Por ejemplo, separar las funcionalidades de envío de correos electrónicos, notificaciones push y alertas SMS en módulos individuales que se encarguen únicamente de esas tareas específicas. Utilizar principios de diseño de software como la responsabilidad única para asegurar que cada módulo tenga una función bien definida y coherente.

**MANT-002:** Se detecta un error en el sistema de notificaciones y se necesita resolver rápidamente.

#### Táctica: Reducir el tamaño de un módulo

- **División de módulos:**  Dividir el sistema de notificaciones en módulos más pequeños y específicos, cada uno encargado de una función particular, como envío de correos electrónicos, notificaciones push y alertas SMS. 
- **Sustento:** Reducir el tamaño de los módulos del sistema de notificaciones facilita la identificación y corrección de errores, ya que los desarrolladores pueden enfocarse en módulos específicos sin preocuparse por el impacto en otras partes del sistema. Esta táctica reduce la complejidad del código, mejora la mantenibilidad y permite una implementación más rápida de nuevas funcionalidades o actualizaciones.
- **Implementación Técnica:** Reestructurar el sistema de notificaciones utilizando una arquitectura modular. Crear módulos independientes para cada tipo de notificación y asegurarse de que cada módulo sea autónomo y manejable. Utilizar herramientas de gestión de dependencias y versiones, como Maven o Gradle, para mantener la integridad y coherencia de los módulos. Implementar pruebas unitarias y de integración para cada módulo utilizando JUnit y Mockito para asegurar su correcta funcionalidad de manera aislada.

## Rendimiento

**REND-001:** Durante el horario pico, muchos usuarios intentan iniciar sesión al mismo tiempo y el sistema debe manejar la carga sin degradación del rendimiento.

#### Táctica: Gestionar recursos

- **Introducir concurrencia:** Al atender solicitudes en paralelo podemos reducir el tiempo de bloqueo y mejorar el rendimiento general del sistema.
- **Sustento:** Esta táctica permite que múltiples solicitudes de inicio de sesión se procesen simultáneamente, lo que reduce el tiempo de respuesta y evita que el sistema se sobrecargue durante los picos de acceso. La concurrencia mejora significativamente la capacidad del sistema para manejar altas cargas de trabajo sin degradar el rendimiento.
- **Implementación Técnica:**  Implementar procesamiento asíncrono utilizando tecnologías como Spring WebFlux para manejar solicitudes de manera no bloqueante. Configurar el servidor para utilizar Netty como motor de aplicaciones asíncronas.

**REND-002:** Los estudiantes acceden simultáneamente a un video educativo, y el sistema debe minimizar la latencia en la entrega del contenido.

#### Táctica: Controlar la demanda de recursos

- **Limitar la respuesta de eventos:** Es posible fijar un ratio máximo de eventos para ser procesados. Por ejemplo, manejando un tamaño de cola. Es posible inclusive manejar una estrategia para “desechar” eventos fuera del ratio fijado.
- **Sustento:** Limitar la respuesta de eventos permite gestionar eficientemente la carga en el sistema durante periodos de alta demanda, evitando la sobrecarga y asegurando que el sistema mantenga un rendimiento aceptable. Esto es especialmente importante en sistemas de streaming de video, donde la latencia y la calidad de la experiencia del usuario son críticas.
- **Implementación Técnica:** Utilizar herramientas de monitoreo como Prometheus y Grafana para observar el rendimiento del sistema en tiempo real y ajustar dinámicamente los parámetros de la cola y las políticas de rechazo según sea necesario.